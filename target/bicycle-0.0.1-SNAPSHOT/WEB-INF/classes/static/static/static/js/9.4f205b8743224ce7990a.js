webpackJsonp([9],{"0aRj":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("I29D"),a("atmG");var s={name:"home",inject:["reload"],data:function(){return{userInfoList:[],filters:{name:""},token:"",user:{}}},methods:{loadData:function(){var t=this;this.axios.get(this.$baseUrl()+"/user/list").then(function(e){console.log(e),t.userInfoList=e.data.data})},tableData:function(){var t={0:"用户",1:"管理员"};return this.userInfoList.map(function(e){return e.statusName=t[e.level],e})},getUsers:function(){var t=this;this.axios.get("user/findByNameLike",{params:{name:this.filters.name}}).then(function(e){console.log("res:",e),t.userInfoList=e.data.data})},change:function(t){var e=this;console.log("id: ",t.id),this.axios.get("user/setAdmin/"+t.id).then(function(t){console.log("res: ",t),200===t.data.code?(e.$message({message:"设置管理员成功",type:"success"}),e.reload()):(e.$message({message:t.data.message,type:"error"}),e.reload())})}},created:function(){this.user=this.$store.state.user.accessToken,console.log("user: ",this.user),this.loadData()}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px","margin-top":"15px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:t.filters}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"姓名"},model:{value:t.filters.name,callback:function(e){t.$set(t.filters,"name",e)},expression:"filters.name"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.getUsers}},[t._v("查询")])],1)],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData()}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"电话",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"password",label:"密码",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"statusName",label:"级别",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.change(e.row)}}},[t._v("设为管理员")])]}}])})],1)],1)},staticRenderFns:[]};var l=a("C7Lr")(s,n,!1,function(t){a("wBKL")},null,null);e.default=l.exports},wBKL:function(t,e){}});
//# sourceMappingURL=9.4f205b8743224ce7990a.js.map